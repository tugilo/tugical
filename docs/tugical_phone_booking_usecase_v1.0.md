# tugical 電話予約ユースケース仕様書 v1.0

**作成日**: 2025-10-22 16:31  
**更新日**: 2025-10-22 16:31  

## 📋 文書概要

- **文書名**: tugical 電話予約ユースケース仕様書
- **バージョン**: 1.0
- **対象**: 美容師向け電話予約システム
- **目的**: 実際の美容室業務における電話予約の全パターンを網羅し、最適な検索機能を設計

## 🎯 美容師の電話予約ユースケース全パターン

### 1. 時間指定系ユースケース

#### A. 完全時間固定

- **シナリオ**: 「明日の 14 時から」
- **特徴**: 時間が完全に決まっている
- **対応**: 指定時間の空き状況を即座に確認
- **代替案**: 指定時間が不可の場合、前後 30 分の代替時間を提示

#### B. 時間帯希望

- **シナリオ**: 「午前中で」「夕方以降で」
- **特徴**: 大まかな時間帯での希望
- **対応**: 時間帯フィルターで該当時間の空きを一覧表示
- **代替案**: 希望時間帯で満席の場合、隣接時間帯を提示

#### C. 終了時間制約

- **シナリオ**: 「16 時までに終わらせたい」
- **特徴**: 逆算思考での時間指定
- **対応**: メニュー所要時間から逆算して開始可能時間を計算
- **代替案**: 短時間メニューへの変更提案

#### D. 開始時間制約

- **シナリオ**: 「仕事終わりの 18 時以降から」
- **特徴**: 最早開始時間の指定
- **対応**: 指定時間以降の空きを時系列で表示
- **代替案**: 翌日の早い時間帯を提示

### 2. 日程指定系ユースケース

#### E. 完全日程固定

- **シナリオ**: 「来週の火曜日で」
- **特徴**: 特定日付での希望
- **対応**: 指定日の全時間帯空き状況を表示
- **代替案**: 前後の曜日を提示

#### F. 曜日限定

- **シナリオ**: 「土日しか来れない」
- **特徴**: 複数曜日での制約
- **対応**: 指定曜日のみフィルターして表示
- **代替案**: 祝日や連休を提案

#### G. 期間指定

- **シナリオ**: 「今週中に」「来週のどこかで」
- **特徴**: 期間内での柔軟な希望
- **対応**: 期間内の空き状況を一覧表示
- **代替案**: 期間を少し延長した提案

#### H. 避けたい日

- **シナリオ**: 「金曜日以外で」
- **特徴**: 除外条件での指定
- **対応**: 除外曜日以外の空きを表示
- **代替案**: 除外理由を確認して解決策を提示

### 3. スタッフ指定系ユースケース

#### I. 担当者指定

- **シナリオ**: 「田中さんで」
- **特徴**: 特定スタッフへの希望
- **対応**: 指定スタッフの空きスケジュールを表示
- **代替案**: 他スタッフとの技術・料金比較を提示

#### J. 担当者不問

- **シナリオ**: 「誰でも良いので」
- **特徴**: スタッフ指定なし
- **対応**: 全スタッフの空きから最適時間を提案
- **代替案**: 経験・専門分野別の説明

#### K. 新人希望

- **シナリオ**: 「練習台で安くしてもらえるなら」
- **特徴**: 料金重視での選択
- **対応**: 新人スタッフの空きと割引料金を表示
- **代替案**: 技術練習メニューの提案

#### L. ベテラン希望

- **シナリオ**: 「経験豊富な方で」
- **特徴**: 技術・経験重視での選択
- **対応**: ベテランスタッフの空きと実績を表示
- **代替案**: 専門技術・資格保有者の提案

### 4. 緊急・特殊系ユースケース

#### M. 当日予約

- **シナリオ**: 「今日空いてる？」
- **特徴**: 急な予約ニーズ
- **対応**: 当日の空き状況をリアルタイム表示
- **代替案**: キャンセル待ちの受付

#### N. 直近希望

- **シナリオ**: 「なるべく早く」
- **特徴**: 時間優先での希望
- **対応**: 直近 3 日間の空きを時系列表示
- **代替案**: 時間短縮メニューの提案

#### O. キャンセル待ち

- **シナリオ**: 「キャンセルが出たら連絡して」
- **特徴**: 待機型の予約希望
- **対応**: キャンセル待ちリストへの登録
- **代替案**: 確実な予約可能時間の提示

#### P. 長時間施術

- **シナリオ**: 「パーマとカラーで 3 時間くらい」
- **特徴**: 長時間ブロック予約
- **対応**: 連続空き時間の検索・表示
- **代替案**: 分割施術の提案

### 5. 条件組み合わせ系ユースケース

#### Q. 複数条件

- **シナリオ**: 「土曜の午前中で田中さん」
- **特徴**: 複数条件の同時指定
- **対応**: 全条件を満たす時間の検索
- **代替案**: 条件の優先順位確認

#### R. 優先順位

- **シナリオ**: 「時間より担当者を優先」
- **特徴**: 条件に優先順位がある
- **対応**: 優先条件から順番に検索
- **代替案**: 妥協可能な条件の確認

#### S. 妥協可能

- **シナリオ**: 「田中さんが無理なら他の人でも」
- **特徴**: 条件変更への柔軟性
- **対応**: 第一希望 → 第二希望の順で提示
- **代替案**: 条件変更時のメリット説明

#### T. 絶対条件

- **シナリオ**: 「絶対に 17 時までに終わらせて」
- **特徴**: 譲れない条件がある
- **対応**: 絶対条件を満たす時間のみ表示
- **代替案**: 条件を満たす他の日程提案

## 🔍 美容師側の検索機能設計

### メイン検索バー構成

```
[メニュー選択] [検索タイプ] [詳細条件] [検索実行]
```

### 1. クイック検索（ワンタップ）

- 「今日の空き」
- 「明日の空き」
- 「今週末の空き」
- 「来週の空き」
- 「直近 3 日間」

### 2. 時間軸検索機能

#### 時間帯フィルター

- **午前**（9-12 時）
- **午後**（12-17 時）
- **夕方**（17-21 時）

#### 終了時間逆算

- **機能**: 「16 時までに終了」→ 逆算して開始可能時間を表示
- **計算**: 終了希望時間 - メニュー所要時間 = 最遅開始時間
- **表示**: 逆算結果以前の全空き時間をハイライト

#### 所要時間別検索

- **短時間**（30 分以下）: カット、シャンプー
- **中時間**（30-90 分）: カット+ブロー、カラー
- **長時間**（90 分以上）: パーマ+カラー、縮毛矯正

### 3. スタッフ軸検索機能

#### 担当者フィルター

- **指定担当者**: 「田中さんの空き」
- **不問**: 「誰でも良い」
- **経験レベル**: 「新人スタッフ」「ベテランスタッフ」

#### スキルマッチング

- **カット得意**: カット系メニュー選択時に優先表示
- **カラー得意**: カラー系メニュー選択時に優先表示
- **パーマ得意**: パーマ系メニュー選択時に優先表示

### 4. 顧客軸検索機能

#### 顧客タイプ別

- **新規顧客**: 新規割引・丁寧説明対応可能時間
- **常連顧客**: 通常対応時間
- **VIP 顧客**: 特別対応・プライベート時間

#### 履歴連携

- **前回担当**: 「前回と同じ担当者」
- **前回時間**: 「前回と同じ時間帯」
- **前回メニュー**: 「前回と同じメニュー」

### 5. 売上最適化検索機能

#### 売上効率

- **高単価メニュー**: 推奨時間帯での提案
- **空き時間活用**: 短時間メニューでの埋め合わせ
- **連続予約**: 効率的な時間配分

#### 稼働率向上

- **分散予約**: 一日を通じた均等配分
- **集中予約**: 特定時間帯での集約
- **アイドルタイム**: 空き時間の有効活用

## 🎨 UI 設計提案

### 画面上部：検索バー

```
┌─────────────────────────────────────────────────────┐
│ [カット+カラー ▼] [直近希望 ▼] [🔍検索]               │
│ クイック: [今日] [明日] [今週末] [来週] [カスタム]      │
└─────────────────────────────────────────────────────┘
```

### 検索結果表示

```
┌─────────────────────────────────────────────────────┐
│ ✅ 今日 14:00-16:00 (田中) 空き - 90分確保済み        │
│ ✅ 明日 10:00-12:00 (佐藤) 空き - 90分確保済み        │
│ ⚠️  明日 15:00-17:00 (田中) 要確認 - 他予約と接触       │
│ ❌ 今週末 すべて満席 - 来週月曜提案                   │
└─────────────────────────────────────────────────────┘
```

### タイムライン連携機能

- **検索結果ハイライト**: 条件に合う時間帯を緑色で強調
- **部分マッチ**: 部分的に合う時間帯を黄色で表示
- **不可能時間**: 不可能な時間帯はグレーアウト
- **代替案表示**: 近接時間帯を点線で表示

## 📱 モバイル対応（電話片手操作）

### タッチターゲット最適化

- **最小サイズ**: 44px × 44px
- **間隔**: 8px 以上
- **フォントサイズ**: 16px 以上

### 片手操作対応

- **親指リーチ**: 下部 3 分の 2 の範囲に主要機能配置
- **スワイプ**: 横スワイプで日付移動
- **ロングタップ**: 詳細情報表示

### 音声認識対応

- **音声入力**: 「明日の午後、田中さんで」
- **音声確認**: 検索結果の音声読み上げ
- **ハンズフリー**: 完全音声による操作

## 💡 実装推奨順序

### Phase 1: 基本検索機能

1. **メニュー選択** → 所要時間自動計算
2. **日付範囲指定** → カレンダー選択
3. **担当者フィルター** → スタッフ選択
4. **基本空き時間検索** → 単純な空き時間表示

### Phase 2: 高度検索機能

1. **時間帯フィルター** → 午前/午後/夕方
2. **終了時間逆算** → 逆算ロジック実装
3. **複数条件組み合わせ** → AND/OR 検索
4. **優先順位設定** → 条件の重み付け

### Phase 3: AI 最適化機能

1. **顧客履歴推奨** → 過去データ分析
2. **売上最適化提案** → 収益性考慮
3. **スタッフスキルマッチング** → 技術レベル考慮
4. **自動代替案提示** → 機械学習による提案

### Phase 4: 高度 UI 機能

1. **音声認識** → 音声入力対応
2. **リアルタイム更新** → WebSocket 実装
3. **プッシュ通知** → キャンセル通知
4. **分析ダッシュボード** → 予約パターン分析

## 🔧 技術実装要件

### API 設計

```
GET /api/v1/availability/search
POST /api/v1/availability/advanced-search
GET /api/v1/staff/skills
POST /api/v1/bookings/optimize
```

### データベース要件

- **インデックス**: 日時、スタッフ ID、メニュー ID の複合インデックス
- **クエリ最適化**: 複雑な条件検索の高速化
- **キャッシュ**: 検索結果の一時保存

### フロントエンド要件

- **レスポンシブ**: モバイルファースト設計
- **パフォーマンス**: 検索結果 1 秒以内表示
- **アクセシビリティ**: 音声読み上げ対応

## 📊 成功指標（KPI）

### 業務効率指標

- **予約処理時間**: 平均 30 秒以内
- **条件マッチ率**: 第一希望 90%以上
- **代替案受諾率**: 80%以上

### ユーザー満足度

- **検索成功率**: 95%以上
- **操作満足度**: 4.5/5.0 以上
- **エラー発生率**: 1%以下

### システム性能

- **検索応答時間**: 1 秒以内
- **同時接続数**: 100 件以上
- **システム稼働率**: 99.9%以上

## 🎯 まとめ

この仕様書では、美容室での電話予約における 20 パターンのユースケースを網羅し、それぞれに対応する検索機能を詳細に設計しました。

**重要なポイント**:

1. **現実的なシナリオ**: 実際の美容室業務での会話パターンを基に設計
2. **片手操作対応**: 電話応対中の操作性を最優先に考慮
3. **段階的実装**: 4 つの Phase に分けた実装ロードマップ
4. **AI 最適化**: 将来的な機械学習による高度化を視野に入れた設計

この設計により、美容師が顧客との電話対応中でも直感的かつ効率的に予約管理を行えるシステムが実現できます。

---

**文書管理**

- 作成者: AI Assistant
- 承認者: tugical 開発チーム
- 次回レビュー: 2025 年 8 月 6 日
